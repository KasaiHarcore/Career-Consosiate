{% extends 'main.html' %}

{% block content %}
  <title>Dashboard Overview</title>

  <!-- Nếu main.html đã load Bootstrap + FontAwesome + Animate.css thì không cần link lại -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <style>
    /* ========== Base Layout ========== */
    .content {
      margin-left: 250px; 
      padding: 40px;
      position: relative;
      animation: fadeInDash 0.6s ease-in-out;
      min-height: 100vh;
    }
    @keyframes fadeInDash {
      0% { opacity: 0; transform: translateY(10px);}
      100% { opacity: 1; transform: translateY(0);}
    }

    /* Card hover */
    .card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      z-index: 1;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 25px rgba(0,0,0,0.15);
    }

    /* Row mini stats */
    .mini-stats {
      display: flex;
      gap: 1rem;
      margin-bottom: 20px;
    }
    .stat-card {
      flex: 1;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      padding: 20px;
      transition: transform 0.3s;
    }
    .stat-card:hover {
      transform: translateY(-3px);
    }
    .stat-title {
      font-size: 14px; 
      color: #777;
      margin-bottom: 6px;
    }
    .stat-value {
      font-size: 20px; 
      font-weight: 600;
      color: #333;
    }

    /* Icon bounce demo */
    .icon-bounce:hover {
      animation: iconBounce 0.4s;
    }
    @keyframes iconBounce {
      0% { transform: scale(1); }
      25% { transform: scale(1.2); }
      50% { transform: scale(1); }
      75% { transform: scale(1.2); }
      100%{ transform: scale(1); }
    }

    /* Tabbed content for "Recent Activity" */
    .nav-tabs .nav-link.active {
      background-color: #fff;
      border-bottom: 2px solid #007bff;
      color: #007bff !important;
      font-weight: 600;
    }
    .nav-tabs .nav-link {
      color: #555;
      font-weight: 500;
    }

    /* List of "New Resumes" style */
    .activity-list li {
      margin-bottom: 10px;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
    }
    .activity-list a {
      color: #007bff;
      text-decoration: none;
      font-weight: 500;
    }
    .activity-list a:hover {
      text-decoration: underline;
    }
    .activity-list .badge {
      background: #e2e3e5;
      color: #333;
      margin: 0 5px;
      font-weight: 500;
    }
    .activity-list .text-muted {
      font-size: 0.85rem;
    }
  </style>
</head>

<body>
  <div class="content">
    <!-- MINI STATS (tùy chọn) -->
    <div class="mini-stats">
      <div class="stat-card">
        <div class="stat-title">Active work</div>
        <div class="stat-value">12</div>
      </div>
      <div class="stat-card">
        <div class="stat-title">Pending Candidates</div>
        <div class="stat-value">27</div>
      </div>
      <div class="stat-card">
        <div class="stat-title">Completed</div>
        <div class="stat-value">89</div>
      </div>
    </div>

    <!-- Title -->
    <h3 class="mb-4">
      <i class="fas fa-chart-pie me-2 icon-bounce" style="color:#007bff;"></i>
      Dashboard Overview
    </h3>

      <div class="row">
        <!-- Metric 1: Total Candidates -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Total Candidates</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">345</span>
              </p>
              <p class="text-muted">Tracked in the system</p>
            </div>
          </div>
        </div>
      
        <!-- Metric 2: Job Openings -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Job Openings</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">2</span>
              </p>
              <p class="text-muted">Active roles</p>
            </div>
          </div>
        </div>
      
        <!-- Metric 3: Application Status -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Application Passing Rate</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">75%</span>
              </p>
              <p class="text-muted">per CV</p>
            </div>
          </div>
        </div>
      </div>

    <!-- (Mới) Row: "Recent Activity" (col-lg-8) + "Notes" (col-lg-4) -->
    <div class="row">
      <!-- Replace "Detail Table" with "Recent Activity" -->
      <div class="col-12 mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              Recent Activity <i class="fas fa-file-alt float-end icon-bounce" style="color:#4e73df;"></i>
            </h5>
            <!-- Tabs -->
            <ul class="nav nav-tabs" id="activityTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="newResumes-tab" data-bs-toggle="tab" data-bs-target="#newResumes" 
                        type="button" role="tab" aria-controls="newResumes" aria-selected="true">
                  New Resumes
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="resumesViewed-tab" data-bs-toggle="tab" data-bs-target="#resumesViewed" 
                        type="button" role="tab" aria-controls="resumesViewed" aria-selected="false">
                  Resumes Viewed
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="jobs-tab" data-bs-toggle="tab" data-bs-target="#jobs" 
                        type="button" role="tab" aria-controls="jobs" aria-selected="false">
                  Jobs
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="notes-tab" data-bs-toggle="tab" data-bs-target="#notes" 
                        type="button" role="tab" aria-controls="notes" aria-selected="false">
                  Notes
                </button>
              </li>
            </ul>
            <!-- Tab Panes -->
            <div class="tab-content" id="activityTabContent">
              <!-- Tab 1: New Resumes -->
              <div class="tab-pane fade show active" id="newResumes" role="tabpanel" aria-labelledby="newResumes-tab">
                <ul class="list-unstyled mt-3 activity-list">
                  <li>
                    <a href="#">CV_Nguyen_Thanh_Dat.pdf</a> applied for 
                    <strong>Software Tester</strong> Job via 
                    <span class="badge">TopCV</span>
                    <small class="text-muted float-end">8 hours ago</small>
                  </li>
                  <li>
                    <a href="#">Dao_Duy_Phuong.pdf</a> applied for 
                    <strong>Software Tester</strong> Job via 
                    <span class="badge">LinkedIn</span>
                    <small class="text-muted float-end">8 hours ago</small>
                  </li>
                </ul>
              </div>
              <!-- Tab 2: Resumes Viewed -->
              <div class="tab-pane fade" id="resumesViewed" role="tabpanel" aria-labelledby="resumesViewed-tab">
                <ul class="list-unstyled mt-3 activity-list">
                  <li>
                    <a href="#">Mark_Sales_resume.pdf</a> viewed for 
                    <strong>Sales Manager</strong>
                    <small class="text-muted float-end">2 hours ago</small>
                  </li>
                  <li>
                    <a href="#">Helen_Finance_resume.docx</a> viewed for 
                    <strong>Finance Analyst</strong>
                    <small class="text-muted float-end">5 hours ago</small>
                  </li>
                </ul>
              </div>
              <!-- Tab 3: Jobs -->
              <div class="tab-pane fade" id="jobs" role="tabpanel" aria-labelledby="jobs-tab">
                <p class="mt-3 text-muted">List of recent jobs posted or updated…</p>
              </div>
              <!-- Tab 4: Notes -->
              <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="notes-tab">
                <p class="mt-3 text-muted">Any additional notes or comments…</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 </div>
</body>

<!-- Script -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock content %}

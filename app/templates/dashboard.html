{% extends 'main.html' %}

{% block content %}
  <title>Dashboard Overview</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  {% load static %}
  <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
  <!-- Mini Stats -->
  <div class="content" style = "animation: fadeUp 0.3s ease-in-out">
    <div class="mini-stats">
      <div class="stat-card">
        <div class="stat-title">Active work</div>
        <div class="stat-value">{{ active_work }}</div>
      </div>
      <div class="stat-card">
        <div class="stat-title">Pending Candidates</div>
        <div class="stat-value">{{ pending_candidates }}</div>
      </div>
      <div class="stat-card">
        <div class="stat-title">Completed</div>
        <div class="stat-value">{{ completed }}</div>
      </div>
    </div>

    <!-- Title -->
    <h3 class="mb-4" style="animation: fadeUp 0.5s ease-in-out">
      <i class="fas fa-chart-pie me-2 icon-bounce" style="color:#007bff; animation: fadeUp 0.5s ease-in-out"></i>
      Dashboard Overview
    </h3>

      <div class="row" style="animation: fadeUp 0.5s ease-in-out">
        <!-- Metric 1: Total Candidates -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Total Candidates</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">{{ total_candidates }}</span>
              </p>
              <p class="text-muted">Tracked in the system</p>
            </div>
          </div>
        </div>
      
        <!-- Metric 2: Job Openings -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Job Openings</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">{{ job_counts }}</span>
              </p>
              <p class="text-muted">Active roles</p>
            </div>
          </div>
        </div>
      
        <!-- Metric 3: Application Status -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card text-center">
            <div class="card-body">
              <h5 class="card-title">Application Passing Rate</h5>
              <p class="card-text">
                <span style="font-size: 32px; font-weight: bold; align-items: center; justify-items: center">{{ passing_rate }}%</span>
              </p>
              <p class="text-muted">per CV</p>
            </div>
          </div>
        </div>
      </div>

    <!-- "Recent Activity" Decoration Purpose only -->
    <div class="row" style="animation: fadeUp 0.7s ease-in-out">
      <!-- Replace "Detail Table" with "Recent Activity" -->
      <div class="col-12 mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              Recent Activity <i class="fas fa-file-alt float-end icon-bounce" style="color:#4e73df;"></i>
            </h5>
            <!-- Tabs -->
            <ul class="nav nav-tabs" id="activityTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="newResumes-tab" data-bs-toggle="tab" data-bs-target="#newResumes" 
                        type="button" role="tab" aria-controls="newResumes" aria-selected="true">
                  New Resumes
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="resumesViewed-tab" data-bs-toggle="tab" data-bs-target="#resumesViewed" 
                        type="button" role="tab" aria-controls="resumesViewed" aria-selected="false">
                  Resumes Viewed
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="jobs-tab" data-bs-toggle="tab" data-bs-target="#jobs" 
                        type="button" role="tab" aria-controls="jobs" aria-selected="false">
                  Jobs
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="notes-tab" data-bs-toggle="tab" data-bs-target="#notes" 
                        type="button" role="tab" aria-controls="notes" aria-selected="false">
                  Notes
                </button>
              </li>
            </ul>
            <!-- Tab Panes -->
            <div class="tab-content" id="activityTabContent">
              <!-- Tab 1: New Resumes -->
              <div class="tab-pane fade show active" id="newResumes" role="tabpanel" aria-labelledby="newResumes-tab">
                <ul class="list-unstyled mt-3 activity-list">
                  <li>
                    <a href="#">CV_Nguyen_Thanh_Dat.pdf</a> applied for 
                    <strong>Software Tester</strong> Job via 
                    <span class="badge">TopCV</span>
                    <small class="text-muted float-end">8 hours ago</small>
                  </li>
                  <li>
                    <a href="#">Dao_Duy_Phuong.pdf</a> applied for 
                    <strong>Software Tester</strong> Job via 
                    <span class="badge">LinkedIn</span>
                    <small class="text-muted float-end">8 hours ago</small>
                  </li>
                </ul>
              </div>
              <!-- Tab 2: Resumes Viewed -->
              <div class="tab-pane fade" id="resumesViewed" role="tabpanel" aria-labelledby="resumesViewed-tab">
                <ul class="list-unstyled mt-3 activity-list">
                  <li>
                    <a href="#">Mark_Sales_resume.pdf</a> viewed for 
                    <strong>Sales Manager</strong>
                    <small class="text-muted float-end">2 hours ago</small>
                  </li>
                  <li>
                    <a href="#">Helen_Finance_resume.docx</a> viewed for 
                    <strong>Finance Analyst</strong>
                    <small class="text-muted float-end">5 hours ago</small>
                  </li>
                </ul>
              </div>
              <!-- Tab 3: Jobs -->
              <div class="tab-pane fade" id="jobs" role="tabpanel" aria-labelledby="jobs-tab">
                <p class="mt-3 text-muted">List of recent jobs posted or updated…</p>
              </div>
              <!-- Tab 4: Notes -->
              <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="notes-tab">
                <p class="mt-3 text-muted">Any additional notes or comments…</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 </div>
</body>

<!-- Script -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock content %}
